
[functions.serve-file-inline]
enabled = true
# JWT verification is disabled because the function uses custom file access tokens
# instead of JWT tokens. File access tokens are short-lived (5 min), single-use
# tokens stored in the database, providing better security than JWT in URL.
verify_jwt = false
import_map = "./functions/serve-file-inline/deno.json"
# Uncomment to specify a custom file path to the entrypoint.
# Supported file extensions are: .ts, .js, .mjs, .jsx, .tsx
entrypoint = "./functions/serve-file-inline/index.ts"
# Specifies static files to be bundled with the function. Supports glob patterns.
# For example, if you want to serve static HTML pages in your function:
# static_files = [ "./functions/serve-file-inline/*.html" ]

[functions.cleanup-expired-tokens]
enabled = true
# JWT verification disabled - using new Supabase auth framework (not legacy JWT).
# Auth is handled manually by checking x-edge-secret header against EDGE_SECRET_KEY.
# IMPORTANT: Use base64 secret (not 64-char hex) to avoid gateway pattern filtering.
# Set secret via: supabase secrets set EDGE_SECRET_KEY=<your-base64-secret>
verify_jwt = false
import_map = "./functions/cleanup-expired-tokens/deno.json"
entrypoint = "./functions/cleanup-expired-tokens/index.ts"

[functions.send-invitation-email]
enabled = true
# JWT verification disabled - auth handled via WEBHOOK_SECRET header.
# Configure the database webhook to include header: x-webhook-secret: <your-secret>
verify_jwt = false
entrypoint = "./functions/send-invitation-email/index.ts"
